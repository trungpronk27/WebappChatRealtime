<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Sign-up</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{css/auth.css}">
    <link th:href="@{img/favicon.png}" type="image/png" rel="icon">
</head>
<body>

<div class="layout">
    <div class="layout" style="width:100%;">
        <!-- Start of Sign Up -->
        <div class="main order-md-2">
            <div class="start">
                <div class="container">
                    <div class="col-md-12">
                        <div class="content">
                            <h1>Create Account</h1>
                            <form class="signup" th:action="@{/sign-up}" method="post" th:object="${user}">

                                <div th:if="${param.success}">
                                    <div class="alert alert-info">You've successfully registered
                                        to our awesome app!</div>
                                </div>
            <!--                <div style="color: red;" th:if="${#fields.hasErrors('*')}">-->
            <!--                    <p><strong>Errors</strong></p>-->
            <!--                    <ul>-->
            <!--                        <li th:each="err : ${#fields.errors('*')}" th:text="${err}"></li>-->
            <!--                    </ul>-->
            <!--                </div>-->
                                <span class="errors" th:text="${isExist}"></span>

                                <div class="form-group">
                                    <input type="text" th:field="*{username}"  class="form-control"
                                           placeholder="User Name"  autofocus="autofocus" autocomplete="off" />
                                    <span class="errors" th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></span>
                                </div>
                                <div class="form-row row">
                                    <div class="form-group col-md-6">
                                        <input type="text" th:field="*{lastName}" class="form-control"
                                               placeholder="Last Name"  autocomplete="off" >
                                        <span class="errors" th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}"></span>
                                    </div>

                                    <div class="form-group col-md-6">
                                        <input type="text" th:field="*{firstName}" class="form-control"
                                               placeholder="First Name"  autocomplete="off" >
                                        <span class="errors" th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}"></span>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <input type="email" th:field="*{email}" class="form-control"
                                           placeholder="Email"  autocomplete="off" >
                                    <span class="errors" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></span>
                                </div>

                                <div class="form-group">
                                    <input type="password" th:field="*{password}" class="form-control"
                                           placeholder="Password"  autocomplete="off" >
                                    <span class="errors" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></span>
                                </div>
                                <button type="submit" class="btn button">Sign Up</button>

                                <div class="callout">
                                    <span>Already a member? <a th:href="@{/login}">Sign In</a></span>
                                </div>

                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- End of Sign Up -->
        <!-- Start of Sidebar -->
        <div class="aside order-md-1">
            <div class="container">
                <div class="col-md-12">
                    <div class="preference">
                        <h2>Welcome Back!</h2>
                        <p>To keep connected with your friends please login with your personal
                            info.</p>
                        <a th:href="@{/login}" class="btn button">Sign In</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

</body>
</html>